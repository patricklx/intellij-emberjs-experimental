import { GlintConfig } from '@glint/config';
import type ts from 'typescript';
import { Connection, TextDocuments } from 'vscode-languageserver';
import { TextDocument } from 'vscode-languageserver-textdocument';
import TransformManager from '../common/transform-manager';
import GlintLanguageServer from './glint-language-server';
export declare type ServerDetails = {
    server: GlintLanguageServer;
    rootDir: string;
    scheduleDiagnostics: () => void;
};
export declare class LanguageServerPool {
    private connection;
    private openDocuments;
    private servers;
    private configLoader;
    constructor(connection: Connection, openDocuments: TextDocuments<TextDocument>);
    forEachServer<T>(callback: (details: ServerDetails) => T): void;
    withServerForURI<T>(uri: string, callback: (details: ServerDetails) => T): T | undefined;
    private runWithCapturedErrors;
    private configForURI;
    private getServerDetailsForURI;
    private launchServer;
    private buildDiagnosticScheduler;
    private sendMessage;
}
export declare function parseTsconfig(glintConfig: GlintConfig, transformManager: TransformManager): ts.ParsedCommandLine;
